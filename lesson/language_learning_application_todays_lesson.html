<!--
File: language_learning_application_todays_lesson.html
Student: 100388650, 100488543
Date: 09/05/20
Course: 5CC518 - Team Project
Desc: This is today's lesson HTML file for the language learning application. Today's lesson involves with the user undertaking different type of exercises to help them learn a language effectively.
Other Files Required: stylesheet.css
-->
<!DOCTYPE html>
<html>
<head>
	<title>Today's Lesson</title>
	<link rel="stylesheet" type="text/css" href="../stylesheet.css">
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;700&display=swap" rel="stylesheet">
</head>
<body>
	<!-- Navigation menu -->
	<div id="navbar" class="sidenav-todays-lesson">
		<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
		<a href="../lessons/language_learning_application_todays_lesson.html">Today's Lesson</a>
		<a href="../lessons/language_learning_application_recap_lesson.html">Recap Lesson</a>
		<a href="../user_profile/language_learning_application_user_profile.html">User Profile</a>
		<a href="../settings/language_learning_application_settings.html">Settings</a>
	</div>
	<div class="todays-lesson-border-top">
		<span class="navicon" onclick="openNav()">&#9776;</span>
		<p class="exercise-title">Today's Lesson: Exercise 1</p>
	</div>
	<p class="exercise-question">Finish this sentence: Ravi de vous</p>
	<!-- Possible answers for the question given on an exercise. The user can drag and drop a word and place it on the dotted line -->
	<div id="answer-drop-target" data-draggable="Target"></div>
	<div id="answer-grid">
		<div id="exercise-answer-1" data-draggable="answer">
			<p data-draggable="answer">bisou</p>
		</div>
		<div id="exercise-answer-2">
			<p data-draggable="answer">c√¢lin</p>
		</div>
		<div id="exercise-answer-3">
			<p data-draggable="answer">chemise</p>
		</div>
		<div id="exercise-answer-4">
			<p data-draggable="answer">rencontrer</p>
		</div>
		<div id="exercise-answer-5">
			<p data-draggable="answer">arbre</p>
		</div>
	</div>
	<button class="btn-submit">Submit</button>
	<!-- Progress bar which indicates how much progress the user has made with the lesson by filling white colour to each dot -->
	<div class="todays-lesson-border-bottom">
		<div class="progress-bar-container">
			<span class="progress-bar-dot"></span>
			<span class="progress-bar-dot-incomplete"></span>
			<span class="progress-bar-dot-incomplete"></span>
			<span class="progress-bar-dot-incomplete"></span>
			<span class="progress-bar-dot-incomplete"></span>
		</div>
	</div>
	<script>
		// Enables the functionality of each word being able to be dragged
			(function()
		{
			for(var 
				items = document.querySelectorAll('[data-draggable="answer"]'), 
				len = items.length, 
				i = 0; i < len; i ++)
			{
				items[i].setAttribute('draggable', 'true');
			}
		
		var item = null;
		
		// Listens to an event of when the user starts dragging the word and then it sets the data to be transferred
		document.addEventListener('dragstart', function(e)
		{
			item = e.target;
			e.dataTransfer.setData('text', '');
		
		}, false);

		document.addEventListener('dragover', function(e)
		{
			if(item)
			{
				e.preventDefault();
			}
		
		}, false);	
		
		// Listens to an event of when the user drops the word on the drop target and then the target appends the word
		document.addEventListener('drop', function(e)
		{
			if(e.target.getAttribute('data-draggable') == 'Target')
			{
				e.target.appendChild(item);
				
				e.preventDefault();
			}
		
		}, false);
		
		// Disables the functionality of each word being able to be dragged
		document.addEventListener('dragend', function(e)
		{
			item = null;
			
			for(var 
				items = document.querySelectorAll('[data-draggable="answer"]'), 
				len = items.length, 
				i = 0; i < len; i ++)
			{
				items[i].setAttribute('draggable', 'false');
			}
		
		}, false);

	})();	
		// Opens the navigation menu when clicked on by expanding it to a set width
		function openNav() {
			document.getElementById("navbar").style.width = "250px";
		}
		// Closes the navigation menu when the times icon is clicked on by decreasing the width to 0
		function closeNav() {
			document.getElementById("navbar").style.width = "0";
		}
	</script>
</body>
</html>
